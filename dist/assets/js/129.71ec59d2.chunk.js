(window.webpackJsonp=window.webpackJsonp||[]).push([[129],{766:function(n,e,r){"use strict";r.r(e),e.default="var boxGeometry = new Hilo3d.BoxGeometry();\nboxGeometry.setAllRectUV([[0, 1], [1, 1], [1, 0], [0, 0]]);\n\nvar material = new Hilo3d.BasicMaterial({\n    diffuse:new Hilo3d.LazyTexture({\n        crossOrigin:true,\n        src:'//gw.alicdn.com/tfs/TB1iNtERXXXXXcBaXXXXXXXXXXX-600-600.png'\n    })\n});\n\nvar redMaterial = new Hilo3d.BasicMaterial({\n    diffuse:new Hilo3d.Color(1, 0, 0)\n});\n\nvar originMesh = new Hilo3d.Mesh({\n    geometry: boxGeometry,\n    material: material,\n    x: -.8,\n    rotationY:30\n}).addTo(stage).setScale(0.1);\n\nvar geometryGetters = [\n    () => new Hilo3d.PlaneGeometry(),\n    () => new Hilo3d.SphereGeometry({\n        radius:0.3\n    }),\n    () => new Hilo3d.BoxGeometry({\n        width:0.3,\n        height:0.3,\n        depth:0.3\n    }).setAllRectUV([[0, 1], [1, 1], [1, 0], [0, 0]])\n];\n\nvar rand = function(a, b){\n    return a + Math.random() * (b - a);\n};\nvar randGeometry = function(){\n    return geometryGetters[Math.floor(Math.random()*geometryGetters.length)]();\n};\n\nconst invertMatrix = new Hilo3d.Matrix4().invert(originMesh.matrix);\nvar tempMatrix = new Hilo3d.Matrix4();\nfor (var i = 0; i < 100; i++) {\n    (function(){\n        let r = 0.9;\n        var randomMesh = new Hilo3d.Mesh({\n            geometry: randGeometry(),\n            material: material,\n            x: rand(-r, r),\n            y: rand(-r, r),\n            z: rand(-r, r)\n        });\n        randomMesh.rotationX = Math.random() * 360;\n        randomMesh.rotationY = Math.random() * 360;\n        randomMesh.rotationZ = Math.random() * 360;\n        randomMesh.setScale(rand(0.3, 0.4));\n        stage.addChild(randomMesh);\n        ticker.timeout(function(){\n            randomMesh.material = redMaterial;\n            ticker.timeout(function(){\n                randomMesh.removeFromParent();\n                boxGeometry.merge(randomMesh.geometry, tempMatrix.copy(invertMatrix).multiply(randomMesh.matrix));\n                boxGeometry.getLocalSphereBounds(true);\n            }, 300);\n        }, i * 30 + 2000);\n    })(i);\n}"}}]);