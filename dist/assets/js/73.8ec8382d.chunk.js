(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{508:function(n,e,a){"use strict";a.r(e),e.default="initModel();\n\nfunction initModel(){\n    var gltfURL = './models/light.gltf';\n\n    var loadQueue = new Hilo3d.LoadQueue([{\n        type: 'CubeTexture',\n        images: [\n            './image/bakedDiffuse_01.jpg',\n            './image/bakedDiffuse_02.jpg',\n            './image/bakedDiffuse_03.jpg',\n            './image/bakedDiffuse_04.jpg',\n            './image/bakedDiffuse_05.jpg',\n            './image/bakedDiffuse_06.jpg'\n        ]\n    }, {\n        type: 'CubeTexture',\n        right: './image/px.jpg',\n        left: './image/nx.jpg',\n        top: './image/py.jpg',\n        bottom: './image/ny.jpg',\n        front: './image/pz.jpg',\n        back: './image/nz.jpg',\n        magFilter: Hilo3d.constants.LINEAR,\n        minFilter: Hilo3d.constants.LINEAR_MIPMAP_LINEAR\n    },{\n        src: './image/brdfLUT.png',\n        wrapS: Hilo3d.constants.CLAMP_TO_EDGE,\n        wrapT: Hilo3d.constants.CLAMP_TO_EDGE,\n        type:'Texture'\n    },{\n        src:gltfURL\n    }]).start().on('complete', function(){\n        var result = loadQueue.getAllContent();\n        var diffuseEnvMap = result[0];\n        var specularEnvMap = result[1];\n        var brdfTexture = result[2];\n        var model = window.model = result[3];\n\n        stage.addChild(model.node);\n\n        var skyBox = new Hilo3d.Mesh({\n            geometry: new Hilo3d.BoxGeometry(),\n            material: new Hilo3d.BasicMaterial({\n                lightType: 'NONE',\n                side: Hilo3d.constants.BACK,\n                diffuse: specularEnvMap\n            })\n        }).addTo(stage);\n        skyBox.setScale(20);\n\n        stage.addChild(new Hilo3d.Mesh({\n            y:-0.5,\n            scaleX:2,\n            scaleY:0.1,\n            scaleZ:2,\n            geometry:new Hilo3d.BoxGeometry,\n            material:new Hilo3d.PBRMaterial({\n                baseColor:new Hilo3d.Color(1, 1, 1, 1),\n                brdfLUT:brdfTexture,\n                diffuseEnvMap:diffuseEnvMap,\n                specularEnvMap:specularEnvMap\n            })\n        }))\n\n        stage.addChild(new Hilo3d.Mesh({\n            y:0.5,\n            scaleX:2,\n            scaleY:0.1,\n            scaleZ:2,\n            geometry:new Hilo3d.BoxGeometry,\n            material:new Hilo3d.PBRMaterial({\n                brdfLUT:brdfTexture,\n                diffuseEnvMap:diffuseEnvMap,\n                specularEnvMap:specularEnvMap,\n                baseColor:new Hilo3d.Color(1, 1, 1, 1)\n            })\n        }))\n\n\n        model.node.getChildrenByClassName('PointLight').forEach(function(light){\n            light.parent.addChild(new Hilo3d.Mesh({\n                geometry:new Hilo3d.SphereGeometry,\n                material:new Hilo3d.BasicMaterial({\n                    diffuse:light.color,\n                    lightType:'NONE'\n                }),\n                scaleX:0.05,\n                scaleY:0.05,\n                scaleZ:0.05,\n            }))\n        });\n\n        model.node.getChildrenByClassName('SpotLight').forEach(function(light){\n            window.spotLight = light;\n            light.parent.addChild(new Hilo3d.Mesh({\n                geometry:new Hilo3d.SphereGeometry,\n                material:new Hilo3d.BasicMaterial({\n                    diffuse:light.color,\n                    lightType:'NONE'\n                }),\n                scaleX:0.05,\n                scaleY:0.05,\n                scaleZ:0.05,\n            }))\n        });\n\n        model.node.getChildrenByClassName('DirectionalLight').forEach(function(light){\n            window.spotLight = light;\n            light.parent.addChild(new Hilo3d.Mesh({\n                geometry:new Hilo3d.SphereGeometry,\n                material:new Hilo3d.BasicMaterial({\n                    diffuse:light.color,\n                    lightType:'NONE'\n                }),\n                scaleX:0.05,\n                scaleY:0.05,\n                scaleZ:0.05,\n            }))\n        });\n    });\n}"}}]);